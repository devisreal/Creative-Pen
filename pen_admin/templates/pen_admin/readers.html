{% extends 'base.html' %}
{% load static %}
{% block title %}
Readers
{% endblock title %}
{% block styles %}
<style>
   .reader-link{
      color: var(--gray-500);
      text-decoration: none;
   }
   .reader-link:hover{
      color: rgba(0,0,0,0.6);
   }
</style>
{% endblock styles %}
{% block content %}
{% include 'partials/messages.html' %}



<div class="container">
   <h1 class="mt-4 mb-5">Readers</h1>
   <div class="my-3 p-3 bg-body rounded my-shadow-md">
      <h6 class="border-bottom pb-2 mb-0">Readers</h6>

      {% for reader in readers %}
      <div class="d-flex text-muted pt-3">   

         {% if reader.profile_picture %}            
            <img 
               class="rounded flex-shrink-0 me-2" 
               src="{{reader.profile_picture.url}}" 
               width="40" 
               height="40" 
               alt="Reader Avatar"
            >
         {% else %}
            <svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="38" height="38" xmlns="http://www.w3.org/2000/svg"
               role="img" aria-label="Placeholder: 32x32" preserveAspectRatio="xMidYMid slice" focusable="false">
               <title>Placeholder</title>
               <rect width="100%" height="100%" fill="#234e70" /><text x="50%" y="50%" fill="#234e70" dy=".3em">32x32</text>
            </svg>
         {% endif %}

         <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
            <div class="d-flex justify-content-between align-items-center">
               <strong class="font-cabin text-md">
                  <a href="{% url 'users:single_reader' request.user.slug reader.username %}" class="reader-link">
                     {{reader.get_full_name|default:"[Fullname]"}}
                  </a>
               </strong>
               <a href="#">
                  <i class="iconsax" style="--Iconsax-Size: 20px;--Iconsax-Color: rgba(0, 0, 0, 0.7);" icon-name="user-2-remove"></i>
               </a>
            </div>
            <a 
               href="{% url 'users:single_reader' request.user.slug reader.username %}" 
               class="d-block text-sm text-gray-500 text-decoration-none font-outfit w-fit"
            >
               @{{reader.get_username}}
            </a>
         </div>
      </div>  
      {% endfor %}      
   </div>
</div>

{% endblock %}