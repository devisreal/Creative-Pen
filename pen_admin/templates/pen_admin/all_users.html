{% extends 'base.html' %}
{% load static %}
{% block title %}
All Users
{% endblock title %}
{% block styles %}
{% endblock styles %}
{% block content %}
{% include 'partials/messages.html' %}



<div class="container-fluid px-md-5 " style="margin-top: 40px;">
   <div class="row g-4">
      <div class="col-12">
         <!-- Card START -->
         <div class="card border">
            <!-- Card header START -->
            <div class="card-header border-bottom bg-white p-3">
               <!-- Search and select START -->
               <div class="row g-3 align-items-center justify-content-between">               
                  <h5 class="mb-2 mb-sm-0">All Users</h5>
               </div>
               <!-- Search and select END -->
            </div>
            <!-- Card header END -->
   
            <!-- Card body START -->
            <div class="card-body p-3 pb-0">
               <div class="table-responsive border-0">
                  <table class="table align-middle p-4 mb-0">
                     <!-- Table head -->
                     <thead class="table-dark font-cabin">
                        <tr>
                           <th scope="col" class="border-0 rounded-start">Author name</th>
                           <th scope="col" class="border-0">Join date</th>
                           <th scope="col" class="border-0">Total post</th>
                           <th scope="col" class="border-0">Total followers</th>
                           <th scope="col" class="border-0">User status</th>
                           <th scope="col" class="border-0 text-end rounded-end">Action</th>
                        </tr>
                     </thead>
               
                     <!-- Table body START -->
                     <tbody class="border-top-0">

                        {% for user in all_users %}                           
                        
                        <tr>
                           <!-- Table data -->
                           <td>
                              <div class="d-flex align-items-center position-relative">
                                 <!-- Image -->
                                 <div class="avatar avatar-sm">
                                    {% if user.profile_picture %}                                       
                                       <img src="{{user.profile_picture.url}}" class="rounded-circle avatar-img" alt="">
                                    {% else %}
                                       {% if user.gender == 'Male' %}                                          
                                          <img src="{% static 'img/user/male.jpg' %}" class="rounded-circle avatar-img" alt="Reader Avatar">
                                       {% elif user.gender == 'Female' %}                                          
                                          <img src="{% static 'img/user/female.jpg' %}" class="rounded-circle avatar-img" alt="Reader Avatar">
                                       {% else %}                                          
                                          <img src="{% static 'img/user/custom.jpg' %}" class="rounded-circle avatar-img" alt="Reader Avatar">
                                       {% endif %}
                                    {% endif %}

                                 </div>
                                 <div class="mb-0 ms-2">                                    
                                    <h6 class="mb-0">
                                       <a href="{% url 'author_external' user.slug %}" class="stretched-link link-dark btn-link text-decoration-none">
                                          {{user.get_full_name}}
                                       </a>
                                    </h6>
                                 </div>
                              </div>
                           </td>
                           <!-- Table data -->
                           <td>{{user.date_joined|date:"dS M, Y"}}</td>
                           <!-- Table data -->
                           <td>256</td>
                           <!-- Table data -->
                           <td>{{user.usersettings.followers.all|length}}</td>
                           <!-- Table data -->
                           <td>
                              {% if user.is_superuser %}
                                 <span class="badge font-semibold bg-dark bg-opacity-10 text-dark mb-2">Superuser</span>
                              {% elif user.is_staff %}
                                 <span class="badge font-semibold bg-danger bg-opacity-10 text-danger mb-2">Staff</span>
                              {% elif user.is_author %}
                                 <span class="badge font-semibold bg-primary bg-opacity-10 text-primary mb-2">Author</span>
                              {% else %}
                                 <span class="badge font-semibold bg-success bg-opacity-10 text-success mb-2">Reader</span>                                 
                              {% endif %}
                           </td>
                           <!-- Table data -->
                           <td class="float-end">
                              <div class="d-flex gap-2">
                                 <a href="#" class="btn btn-light btn-round mb-0" data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="" data-bs-original-title="Message" aria-label="Message">
                                    <i class="fa-solid fa-message"></i>
                                 </a>
                                 <a href="#" class="btn btn-light btn-round mb-0">
                                    <i data-bs-toggle="tooltip" data-bs-title="Block Reader" class="fa-solid fa-ban text-danger"></i>
                                 </a>
                              </div>
                           </td>
                        </tr>
                        
                        {% endfor %}
                     </tbody>
                     <!-- Table body END -->
                  </table>
               </div>
            </div>
            <!-- Card body END -->
   
            <!-- Card Footer START -->
            <div class="card-footer p-3 bg-white">
               <!-- Pagination START -->
               <div class="d-sm-flex justify-content-sm-between align-items-sm-center">
                  <!-- Content -->
                  <p class="mb-sm-0 text-md text-center text-sm-start">Showing 1 to 8 of 20 entries</p>
                  <!-- Pagination -->
                  <nav class="mb-sm-0 d-flex justify-content-center" aria-label="navigation">
                     <ul class="pagination pagination-sm pagination-bordered mb-0">
                        <li class="page-item disabled">
                           <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Prev</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item active"><a class="page-link" href="#">2</a></li>
                        <li class="page-item disabled"><a class="page-link" href="#">..</a></li>
                        <li class="page-item"><a class="page-link" href="#">15</a></li>
                        <li class="page-item">
                           <a class="page-link" href="#">Next</a>
                        </li>
                     </ul>
                  </nav>
               </div>
               <!-- Pagination END -->
            </div>
            <!-- Card Footer END -->
         </div>
         <!-- Card END -->
      </div>   
   </div>
</div>


<br><br><br><br><br>
{% endblock %}